(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7ac1432c"],{"2caa":function(s,r,a){"use strict";a("549b")},3867:function(s,r,a){},"549b":function(s,r,a){},d819:function(s,r,a){"use strict";a.r(r);var e=function(){var s=this,r=s.$createElement,a=s._self._c||r;return a("div",{staticClass:"form-change-password-container"},[a("div",{staticClass:"container"},[a("el-form",{ref:"FormChangePassword",staticClass:"change-password-form",attrs:{model:s.params,rules:s.formRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[s._v(s._s(s.$t("changePassword.title")))])]),a("el-form-item",{attrs:{prop:"currentPassword"}},[a("el-input",{key:s.currentPasswordType,ref:"currentPassword",staticClass:"form-input",attrs:{type:s.currentPasswordType,name:"currentPassword",tabindex:"1","auto-complete":"off"},model:{value:s.params.currentPassword,callback:function(r){s.$set(s.params,"currentPassword","string"===typeof r?r.trim():r)},expression:"params.currentPassword"}}),a("label",{staticClass:"custom-placeholder"},[s._v(s._s(s.$t("changePassword.currentPassword")))]),a("span",{staticClass:"show-pwd",on:{click:function(r){return s.showPwd("currentPw")}}},[a("svg-icon",{attrs:{"icon-class":"password"===s.currentPasswordType?"eye":"eye-open"}})],1)],1),a("el-form-item",{attrs:{prop:"password"}},[a("el-input",{key:s.passwordType,ref:"password",staticClass:"form-input",attrs:{type:s.passwordType,name:"password",tabindex:"2","auto-complete":"off"},model:{value:s.params.password,callback:function(r){s.$set(s.params,"password","string"===typeof r?r.trim():r)},expression:"params.password"}}),a("label",{staticClass:"custom-placeholder"},[s._v(s._s(s.$t("changePassword.newPassword")))]),a("span",{staticClass:"show-pwd",on:{click:function(r){return s.showPwd("newPw")}}},[a("svg-icon",{attrs:{"icon-class":"password"===s.passwordType?"eye":"eye-open"}})],1)],1),a("el-form-item",{attrs:{prop:"confirmPassword"}},[a("el-input",{key:s.confirmPasswordType,ref:"confirmPassword",staticClass:"form-input",attrs:{type:s.confirmPasswordType,name:"confirmPassword",tabindex:"3","auto-complete":"off",disabled:!s.params.password},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&s._k(r.keyCode,"enter",13,r.key,"Enter")?null:s.handleSavePassword(r)}},model:{value:s.params.confirmPassword,callback:function(r){s.$set(s.params,"confirmPassword","string"===typeof r?r.trim():r)},expression:"params.confirmPassword"}}),a("label",{staticClass:"custom-placeholder"},[s._v(s._s(s.$t("changePassword.confirmPassword")))]),a("span",{staticClass:"show-pwd",on:{click:function(r){return s.showPwd("confirmPw")}}},[a("svg-icon",{attrs:{"icon-class":"password"===s.confirmPasswordType?"eye":"eye-open"}})],1)],1),a("div",{staticClass:"row no-gutters align-items-center mt-4 button-wrap"},[a("div",{staticClass:"col-xs-12 col text-right"},[a("el-button",{staticClass:"button btn-save",attrs:{icon:"el-icon-s-promotion",loading:s.loading},nativeOn:{click:function(r){return r.preventDefault(),s.handleSavePassword(r)}}},[s._v(" "+s._s(s.$t("changePassword.btnSave"))+" ")])],1),a("div",{staticClass:"col-xs-12 col"},[a("el-button",{staticClass:"button btn-back",attrs:{icon:"el-icon-back"},nativeOn:{click:function(r){return r.preventDefault(),s.handleGoBack(r)}}},[s._v(" "+s._s(s.$t("changePassword.btnBack"))+" ")])],1)])],1)],1)])},o=[],t=a("5530"),n=a("2f62"),c={name:"ChangePassword",data:function(){var s=this,r=function(r,a,e){a?a!==s.userInfo.password?e(new Error(s.$t("message.changePassword.oldPasswordIncorrect"))):e():e(new Error(s.$t("message.changePassword.requireCurrentPassword")))},a=function(r,a,e){a?a.length<6||a.length>20?e(new Error(s.$t("message.changePassword.limitPassword"))):e():e(new Error(s.$t("message.changePassword.requirePassword")))},e=function(r,a,e){a?a!==s.params.password?e(new Error(s.$t("message.changePassword.passwordNotMatch"))):e():e(new Error(s.$t("message.changePassword.requireConfirmPassword")))};return{params:{currentPassword:"",password:"",confirmPassword:""},formRules:{currentPassword:[{required:!0,trigger:["blur","change"],validator:r}],password:[{required:!0,trigger:["blur","change"],validator:a}],confirmPassword:[{required:!0,trigger:["blur","change"],validator:e}]},loading:!1,currentPasswordType:"password",passwordType:"password",confirmPasswordType:"password"}},computed:Object(t["a"])({},Object(n["b"])(["token","userInfo"])),methods:{showPwd:function(s){var r=this;switch(s){case"currentPw":"password"===this.currentPasswordType?this.currentPasswordType="":this.currentPasswordType="password",this.$nextTick((function(){r.$refs.currentPassword.focus()}));break;case"newPw":"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){r.$refs.password.focus()}));break;case"confirmPw":"password"===this.confirmPasswordType?this.confirmPasswordType="":this.confirmPasswordType="password",this.$nextTick((function(){r.$refs.confirmPassword.focus()}));break}},handleGoBack:function(){this.$router.go(-1)},handleSavePassword:function(){var s=this;this.$refs.FormChangePassword.validate((function(r){if(!r)return console.log("error submit!!"),!1;s.loading=!0,s.$store.dispatch("user/update",{avatar:s.userInfo.avatar,email:s.userInfo.email,fullName:s.userInfo.fullName,password:s.params.password}).then((function(r){s.loading=!1,s.$message.success(s.$t("message.changePassword.updateSuccessful"))})).catch((function(r){s.loading=!1,console.log(r.message),s.$message.error(r.message?r.message:s.$t("message.common.undefinedError"))}))}))}}},i=c,d=(a("daec"),a("2caa"),a("2877")),w=Object(d["a"])(i,e,o,!1,null,"31730085",null);r["default"]=w.exports},daec:function(s,r,a){"use strict";a("3867")}}]);