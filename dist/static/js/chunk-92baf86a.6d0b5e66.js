(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-92baf86a"],{"2cbc":function(e,t,n){"use strict";n("9f27")},"663a":function(e,t,n){"use strict";n("d221")},"9ed6":function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-container"},[n("el-form",{ref:"loginForm",staticClass:"login-form",attrs:{model:e.loginForm,rules:e.loginRules,"auto-complete":"on","label-position":"left"}},[n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v(e._s(e.$t("login.title")))])]),n("el-form-item",{attrs:{prop:"username"}},[n("el-input",{ref:"username",staticClass:"form-input",attrs:{name:"username",type:"text",tabindex:"1"},model:{value:e.loginForm.username,callback:function(t){e.$set(e.loginForm,"username","string"===typeof t?t.trim():t)},expression:"loginForm.username"}}),n("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("login.usernameOrPhone")))])],1),n("el-form-item",{staticClass:"mb-4",attrs:{prop:"password"}},[n("el-input",{key:e.passwordType,ref:"password",staticClass:"form-input",attrs:{type:e.passwordType,name:"password",tabindex:"2","auto-complete":"off"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.handleLogin(t)}},model:{value:e.loginForm.password,callback:function(t){e.$set(e.loginForm,"password",t)},expression:"loginForm.password"}}),n("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("login.password")))]),n("span",{staticClass:"show-pwd",on:{click:e.showPwd}},[n("svg-icon",{attrs:{"icon-class":"password"===e.passwordType?"eye":"eye-open"}})],1)],1),n("div",{staticClass:"row no-gutters align-items-center mt-4"},[n("div",{staticClass:"col-auto"},[n("el-button",{staticClass:"btn-sign-in",attrs:{loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleLogin(t)}}},[e._v(" "+e._s(e.$t("login.btnLogin"))+" "),n("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M5.40995 21.75C4.28995 21.75 3.57995 21.37 3.12995 20.92C2.24995 20.04 1.62995 18.17 3.60995 14.2L4.47995 12.47C4.58995 12.24 4.58995 11.76 4.47995 11.53L3.60995 9.80002C1.61995 5.83002 2.24995 3.95002 3.12995 3.08002C3.99995 2.20002 5.87995 1.57002 9.83995 3.56002L18.3999 7.84002C20.5299 8.90002 21.6999 10.38 21.6999 12C21.6999 13.62 20.5299 15.1 18.4099 16.16L9.84995 20.44C7.90995 21.41 6.46995 21.75 5.40995 21.75ZM5.40995 3.75002C4.86995 3.75002 4.44995 3.88002 4.18995 4.14002C3.45995 4.86002 3.74995 6.73002 4.94995 9.12002L5.81995 10.86C6.13995 11.51 6.13995 12.49 5.81995 13.14L4.94995 14.87C3.74995 17.27 3.45995 19.13 4.18995 19.85C4.90995 20.58 6.77995 20.29 9.17995 19.09L17.7399 14.81C19.3099 14.03 20.1999 13 20.1999 11.99C20.1999 10.98 19.2999 9.95002 17.7299 9.17002L9.16995 4.90002C7.64995 4.14002 6.33995 3.75002 5.40995 3.75002Z",fill:"white"}}),n("path",{attrs:{d:"M10.8399 12.75H5.43994C5.02994 12.75 4.68994 12.41 4.68994 12C4.68994 11.59 5.02994 11.25 5.43994 11.25H10.8399C11.2499 11.25 11.5899 11.59 11.5899 12C11.5899 12.41 11.2499 12.75 10.8399 12.75Z",fill:"white"}})])])],1),n("div",{staticClass:"col text-right"},[n("router-link",{attrs:{to:{name:"ResetPassword"}}},[e._v(e._s(e.$t("login.btnForgotPassword")))])],1)]),n("div",[n("div",{staticClass:"seperate-line"}),n("div",{staticClass:"seperate-text"},[e._v(e._s(e.$t("login.seperateText")))])]),n("div",{staticStyle:{"margin-top":"0.5rem"},attrs:{id:"signin_button"}}),n("div",{staticClass:"have-not-account"},[n("span",[e._v(e._s(e.$t("login.haveNotAccount.label"))+" ")]),n("a",{staticClass:"btn-sign-up-now",attrs:{href:""},on:{click:function(t){return t.preventDefault(),e.$router.push({name:"Signup"})}}},[e._v(e._s(e.$t("login.haveNotAccount.btnSignupNow")))])])],1)],1)},o=[],i=n("5530"),a=(n("b0c0"),n("4c53"),n("2f62")),r=n("ed08"),l={name:"Login",components:{},data:function(){var e=this,t=function(t,n,s){n.length<=0?s(new Error(e.$t("message.login.requireUsername"))):s()},n=function(t,n,s){n.length<6?s(new Error(e.$t("message.login.limitPassword"))):s()};return{loginForm:{username:"",password:"",responseRecaptcha:"anvui"},loginRules:{username:[{required:!0,trigger:["blur","change"],validator:t}],password:[{required:!0,trigger:["blur","change"],validator:n}]},loading:!1,passwordType:"password",redirect:void 0}},computed:Object(i["a"])({},Object(a["c"])(["token"])),watch:{$route:{handler:function(e){e.query&&e.query.redirect?""===e.query.redirect?this.redirect="/".concat(this.$i18n.locale):this.redirect=e.query.redirect:this.redirect="/".concat(this.$i18n.locale)},immediate:!0}},created:function(){this.renderButton()},methods:{showPwd:function(){var e=this;"password"===this.passwordType?this.passwordType="":this.passwordType="password",this.$nextTick((function(){e.$refs.password.focus()}))},handleLogin:function(){var e=this;this.$refs.loginForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/login",e.loginForm).then((function(){e.$router.push({path:e.redirect||"/".concat(e.$i18n.locale)}),e.loading=!1})).catch((function(t){e.$message.error(t.message?t.message:e.$t("message.common.undefinedError")),console.log(t),e.loading=!1}))}))},renderButton:function(){var e=this,t=document.createElement("script");t.src="https://accounts.google.com/gsi/client",document.head.appendChild(t),window.addEventListener("load",(function(){console.log(window.google),window.google.accounts.id.initialize({client_id:"939383271889-24rrrnchf83qa14tc09ejgnfl950ttkg.apps.googleusercontent.com",callback:e.handleCredentialResponse}),window.google.accounts.id.renderButton(document.getElementById("signin_button"),{theme:"outline",size:"large"}),window.google.accounts.id.prompt()}))},handleCredentialResponse:function(e){var t=this,n=Object(r["g"])(e.credential);this.$store.dispatch("user/loginSocial",{email:n.email,userName:n.email,captcha:"anvuiuserInfo.",fullName:n.name,avatar:n.picture,googleId:n.sub}).then((function(e){t.$router.push({path:t.redirect||"/".concat(t.$i18n.locale)})})).catch((function(e){t.$message.error(e.message?e.message:t.$t("message.common.undefinedError")),console.log(e),t.loading=!1}))}}},c=l,d=(n("2cbc"),n("663a"),n("2877")),u=Object(d["a"])(c,s,o,!1,null,"fb5c7286",null);t["default"]=u.exports},"9f27":function(e,t,n){},d221:function(e,t,n){}}]);