(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-dea60324"],{"10a8":function(e,t,a){},"15f9":function(e,t,a){"use strict";a("2fed")},"244c":function(e,t,a){},"2fed":function(e,t,a){},6390:function(e,t,a){"use strict";var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("el-upload",{ref:"FormUploadImage",staticClass:"avatar-uploader",attrs:{action:e.action,headers:e.getHeader,"list-type":"avatar-uploader","show-file-list":!1,"auto-upload":!0,"on-change":e.handleChange,"on-progress":e.handleProgress,"on-success":e.handleSuccess,"on-error":e.handleError,"on-exceed":e.handleExceed,"on-preview":e.handlePreview,data:e.dataRequest,disabled:e.disabled}},[e.imageUrl?a("img",{staticClass:"avatar",attrs:{src:e.imageUrl}}):e._e(),e.loadingUpload?a("i",{staticClass:"el-icon-loading"}):e._e(),e.imageUrl?e._e():a("i",{staticClass:"el-icon-plus avatar-uploader-icon"})])],1)},r=[],s=a("5f87"),l={props:{value:{type:String,default:""},fileType:{type:String,default:""},multiple:{type:Boolean,default:!1}},data:function(){return{action:"https://apikbus.anvui.vn/image/upload",disabled:!1,dataRequest:{fileType:this.fileType},imageUrl:"",loadingUpload:!1}},computed:{getHeader:function(){var e={Authorization:"Bearer ".concat(Object(s["a"])())};return e}},mounted:function(){this.value&&(this.imageUrl=this.value)},methods:{handleRemove:function(e){},handleChange:function(e,t){},handleProgress:function(e,t,a){this.disabled=!0,this.loadingUpload=!0,document.querySelector(".avatar-uploader .el-upload").classList.add("is-disabled")},handleSuccess:function(e,t,a){this.disabled=!1,this.loadingUpload=!1,document.querySelector(".avatar-uploader .el-upload").classList.remove("is-disabled");var i=e.results.data;this.imageUrl="https://apikbus.anvui.vn"+"/image/get/".concat(i.id),this.$emit("input",this.imageUrl)},handleError:function(e,t,a){console.log(e),this.disabled=!1,document.querySelector(".avatar-uploader .el-upload").classList.remove("is-disabled"),this.loadingUpload=!1,this.imageUrl="",this.$message.error("Đã có lỗi xảy ra")},handleExceed:function(e,t){},handlePreview:function(e,t){}}},n=l,o=(a("15f9"),a("2877")),u=Object(o["a"])(n,i,r,!1,null,null,null);t["a"]=u.exports},"7c57":function(e,t,a){"use strict";a("244c")},9504:function(e,t,a){"use strict";a.r(t);var i=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.userInfo?a("div",{staticClass:"edit-user-container"},[a("div",{staticClass:"col-md-6",staticStyle:{margin:"0 auto"}},[a("el-form",{ref:"editForm",staticClass:"edit-form",attrs:{model:e.editForm,rules:e.editRules,"auto-complete":"on","label-position":"left"}},[a("div",{staticClass:"title-container"},[a("h3",{staticClass:"title"},[e._v(e._s(e.$t("editUser.title")))])]),a("el-form-item",{attrs:{prop:"avatar"}},[a("upload-avatar",{attrs:{"file-type":"IMAGE",multiple:!1},model:{value:e.editForm.avatar,callback:function(t){e.$set(e.editForm,"avatar",t)},expression:"editForm.avatar"}})],1),a("el-form-item",{attrs:{prop:"username"}},[a("el-input",{ref:"username",staticClass:"form-input",attrs:{name:"username",type:"text",tabindex:"1",disabled:""},model:{value:e.editForm.username,callback:function(t){e.$set(e.editForm,"username","string"===typeof t?t.trim():t)},expression:"editForm.username"}}),a("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("editUser.formEdit.userName")))])],1),a("el-form-item",{attrs:{prop:"phoneNumber"}},[a("el-input",{ref:"phoneNumber",staticClass:"form-input",attrs:{name:"phoneNumber",type:"number",tabindex:"2",disabled:""},model:{value:e.editForm.phoneNumber,callback:function(t){e.$set(e.editForm,"phoneNumber","string"===typeof t?t.trim():t)},expression:"editForm.phoneNumber"}}),a("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("editUser.formEdit.phoneNumber")))])],1),a("el-form-item",{attrs:{prop:"fullname"}},[a("el-input",{ref:"fullname",staticClass:"form-input",attrs:{name:"fullname",type:"text",tabindex:"3"},model:{value:e.editForm.fullname,callback:function(t){e.$set(e.editForm,"fullname",t)},expression:"editForm.fullname"}}),a("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("editUser.formEdit.fullName")))])],1),a("el-form-item",{attrs:{prop:"email"}},[a("el-input",{ref:"email",staticClass:"form-input",attrs:{name:"email",type:"text",tabindex:"4"},model:{value:e.editForm.email,callback:function(t){e.$set(e.editForm,"email","string"===typeof t?t.trim():t)},expression:"editForm.email"}}),a("label",{staticClass:"custom-placeholder"},[e._v(e._s(e.$t("editUser.formEdit.email")))])],1),a("div",{staticClass:"w-100 text-center mt-4"},[a("el-button",{staticClass:"btn-sign-in",attrs:{loading:e.loading},nativeOn:{click:function(t){return t.preventDefault(),e.handleSaveInfo(t)}}},[e._v(" "+e._s(e.$t("editUser.formEdit.btnSave"))+" "),a("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M5.40995 21.75C4.28995 21.75 3.57995 21.37 3.12995 20.92C2.24995 20.04 1.62995 18.17 3.60995 14.2L4.47995 12.47C4.58995 12.24 4.58995 11.76 4.47995 11.53L3.60995 9.80002C1.61995 5.83002 2.24995 3.95002 3.12995 3.08002C3.99995 2.20002 5.87995 1.57002 9.83995 3.56002L18.3999 7.84002C20.5299 8.90002 21.6999 10.38 21.6999 12C21.6999 13.62 20.5299 15.1 18.4099 16.16L9.84995 20.44C7.90995 21.41 6.46995 21.75 5.40995 21.75ZM5.40995 3.75002C4.86995 3.75002 4.44995 3.88002 4.18995 4.14002C3.45995 4.86002 3.74995 6.73002 4.94995 9.12002L5.81995 10.86C6.13995 11.51 6.13995 12.49 5.81995 13.14L4.94995 14.87C3.74995 17.27 3.45995 19.13 4.18995 19.85C4.90995 20.58 6.77995 20.29 9.17995 19.09L17.7399 14.81C19.3099 14.03 20.1999 13 20.1999 11.99C20.1999 10.98 19.2999 9.95002 17.7299 9.17002L9.16995 4.90002C7.64995 4.14002 6.33995 3.75002 5.40995 3.75002Z",fill:"white"}}),a("path",{attrs:{d:"M10.8399 12.75H5.43994C5.02994 12.75 4.68994 12.41 4.68994 12C4.68994 11.59 5.02994 11.25 5.43994 11.25H10.8399C11.2499 11.25 11.5899 11.59 11.5899 12C11.5899 12.41 11.2499 12.75 10.8399 12.75Z",fill:"white"}})])])],1)],1)],1)]):e._e()},r=[],s=a("5530"),l=(a("ac1f"),a("00b4"),a("2f62")),n=a("6390"),o={components:{UploadAvatar:n["a"]},data:function(){var e=this,t=function(t,a,i){a.length<6||a.length>20?i(new Error(e.$t("message.editUser.limitUsername"))):i()},a=function(t,a,i){var r=/(?:(?![0-9A-Z_a-z\xC0-\xC3\xC8-\xCA\xCC\xCD\xD2-\xD5\xD9\xDA\xDD\xE0-\xE3\xE8-\xEA\xEC\xED\xF2-\xF5\xF9\xFA\u0102\u0103\u0110\u0111\u0128\u0129\u0168\u0169\u01A0\u01A1\u01AF\u01B0\u1EA0-\u1EBD\u1EC0-\u1EF9])[\s\S])/;a.length<=0||!r.test(a)?i(new Error(e.$t("message.editUser.fullName"))):i()},i=function(t,a,i){var r=/(84|0[3|5|7|8|9])+([0-9]{8})\b/;a.length<=0||!r.test(a)?i(new Error(e.$t("message.editUser.phoneNumber"))):i()},r=function(t,a,i){var r=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;a.length<=0||!r.test(a)?i(new Error(e.$t("message.editUser.email"))):i()};return{editForm:{username:"",fullname:"",phoneNumber:"",email:"",avatar:""},editRules:{username:[{required:!0,trigger:["blur","change"],validator:t}],fullname:[{required:!0,trigger:["blur","change"],validator:a}],phoneNumber:[{required:!0,trigger:["blur","change"],validator:i}],email:[{required:!0,trigger:["blur","change"],validator:r}]},loading:!1}},computed:Object(s["a"])({},Object(l["b"])(["userInfo"])),created:function(){this.userInfo&&(this.editForm.username=this.userInfo.userName,this.editForm.phoneNumber=this.userInfo.phoneNumber,this.editForm.fullname=this.userInfo.fullName,this.editForm.email=this.userInfo.email,this.editForm.avatar=this.userInfo.avatar)},methods:{handleSaveInfo:function(){var e=this;this.$refs.editForm.validate((function(t){if(!t)return console.log("error submit!!"),!1;e.loading=!0,e.$store.dispatch("user/update",{fullName:e.editForm.fullname,email:e.editForm.email,avatar:e.editForm.avatar}).then((function(t){e.loading=!1,e.$message.success(e.$t("message.editUser.updateSuccessful")),e.$store.dispatch("user/getUserInfo",t)})).catch((function(t){e.loading=!1,console.log(t),e.$message.error(t.message?t.message:e.$t("message.common.undefinedError"))}))}))}}},u=o,d=(a("7c57"),a("a9c6"),a("2877")),m=Object(d["a"])(u,i,r,!1,null,"4e411c97",null);t["default"]=m.exports},a9c6:function(e,t,a){"use strict";a("10a8")}}]);