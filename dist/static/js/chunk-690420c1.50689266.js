(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-690420c1"],{"24ae":function(t,e,i){},"2e61":function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-share-link"},[s("el-dialog",{attrs:{visible:t.value,width:"50%"},on:{close:t.handleClose}},[s("div",{staticClass:"w-100"},[s("div",{staticClass:"col-12 text-center title"},[t._v(t._s(t.$t("formShareLink.title")))]),s("div",{staticClass:"form-group"},[s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.title,expression:"dataForm.title"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.dataForm.title},on:{input:function(e){e.target.composing||t.$set(t.dataForm,"title",e.target.value)}}}),s("label",{staticClass:"desc popup-text"},[t._v(t._s(t.$t("formShareLink.field.title")))])]),s("div",{staticClass:"form-field"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.dataForm.description,expression:"dataForm.description"}],staticClass:"form-input",attrs:{type:"text"},domProps:{value:t.dataForm.description},on:{input:function(e){e.target.composing||t.$set(t.dataForm,"description",e.target.value)}}}),s("label",{staticClass:"desc popup-text"},[t._v(t._s(t.$t("formShareLink.field.description")))])])]),s("div",{staticClass:"btn-wrapper"},[s("el-button",{staticClass:"btn-signup",attrs:{loading:t.loadingGetLink},on:{click:function(e){return e.stopPropagation(),t.handleGetLink()}}},[s("span",[t._v(t._s(t.$t("formShareLink.btnGetLink")))]),s("svg",{attrs:{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{d:"M5.40995 21.75C4.28995 21.75 3.57995 21.37 3.12995 20.92C2.24995 20.04 1.62995 18.17 3.60995 14.2L4.47995 12.47C4.58995 12.24 4.58995 11.76 4.47995 11.53L3.60995 9.80002C1.61995 5.83002 2.24995 3.95002 3.12995 3.08002C3.99995 2.20002 5.87995 1.57002 9.83995 3.56002L18.3999 7.84002C20.5299 8.90002 21.6999 10.38 21.6999 12C21.6999 13.62 20.5299 15.1 18.4099 16.16L9.84995 20.44C7.90995 21.41 6.46995 21.75 5.40995 21.75ZM5.40995 3.75002C4.86995 3.75002 4.44995 3.88002 4.18995 4.14002C3.45995 4.86002 3.74995 6.73002 4.94995 9.12002L5.81995 10.86C6.13995 11.51 6.13995 12.49 5.81995 13.14L4.94995 14.87C3.74995 17.27 3.45995 19.13 4.18995 19.85C4.90995 20.58 6.77995 20.29 9.17995 19.09L17.7399 14.81C19.3099 14.03 20.1999 13 20.1999 11.99C20.1999 10.98 19.2999 9.95002 17.7299 9.17002L9.16995 4.90002C7.64995 4.14002 6.33995 3.75002 5.40995 3.75002Z",fill:"white"}}),s("path",{attrs:{d:"M10.8399 12.75H5.43994C5.02994 12.75 4.68994 12.41 4.68994 12C4.68994 11.59 5.02994 11.25 5.43994 11.25H10.8399C11.2499 11.25 11.5899 11.59 11.5899 12C11.5899 12.41 11.2499 12.75 10.8399 12.75Z",fill:"white"}})])])],1)]),t.linkShare?s("div",{staticClass:"share"},[s("span",{staticClass:"description"},[t._v(t._s(t.$t("formShareLink.inviteFriend.title")))]),s("div",{staticClass:"list-icon"},[s("el-button",{attrs:{title:"Copy to clipboard"},on:{click:function(e){return e.preventDefault(),t.shareTrip("url")}}},[s("img",{attrs:{src:i("5cb5"),alt:"copy to clipboard"}})]),s("el-button",{attrs:{href:"",title:"Share to facebook"},on:{click:function(e){return e.preventDefault(),t.shareTrip("fb")}}},[s("img",{attrs:{src:i("af48"),alt:"share to fb"}})])],1)]):t._e()])],1)},a=[],n=i("5530"),r=(i("b0c0"),i("a4d3"),i("e01a"),i("ed08")),o=i("2f62"),c={props:{value:{type:Boolean,default:!1},trip:{type:Object,default:null}},data:function(){return{dataForm:{title:this.$t("formShareLink.field.dataTitle")||"",description:""},loadingGetLink:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["linkShare","userInfo"])),{},{getPathUrl:function(){return window.location.origin},getPointManual:function(){if(this.trip.pointManual){var t=JSON.parse(this.trip.pointManual);return t[0].name&&!t[t.length-1].name?t[0].name:t[t.length-1].name&&!t[0].name?t[t.length-1].name:t[0].name&&t[t.length-1].name?t[0].name+" - "+t[t.length-1].name:""}return null}}),watch:{value:function(t){t&&this.$store.dispatch("component/resetLink")},trip:function(t){var e=null;this.trip.route?e=this.trip.route.routeName:this.getPointManual&&(e=this.getPointManual),this.dataForm.description=e+", "+this.$moment.utc(this.trip.runTime).format("DD/MM/YYYY HH:mm")}},mounted:function(){this.trip.route?this.dataForm.description=this.trip.route.routeName+", "+this.$moment.utc(this.trip.runTime).format("DD/MM/YYYY HH:mm"):this.getPointManual&&(this.dataForm.description=this.getPointManual+", "+this.$moment.utc(this.trip.runTime).format("DD/MM/YYYY HH:mm"))},methods:{handleGetLink:function(){var t=this;this.loadingGetLink=!0;var e=null;e=this.trip.route&&this.trip.route.images.length>0?this.trip.route.images[0]:!this.trip.route&&this.userInfo?this.userInfo.avatar:"https://kbus.vn/static/img/logo-kbus.db912338.png",setTimeout((function(){t.$store.dispatch("component/generateLink",{title:t.dataForm.title,description:t.dataForm.description,imageUrl:e,referralUser:t.userInfo&&t.userInfo.userName?t.userInfo.userName:"",tripId:t.trip.id}).then((function(e){t.loadingGetLink=!1})).catch((function(e){t.loadingGetLink=!1,console.log(e),t.$message.error(e.message?e.message:t.$t("message.common.undefinedError"))}))}),500)},shareTrip:function(t){switch(t){case"url":Object(r["d"])(this.linkShare.shortLink);break;case"fb":window.open("https://www.facebook.com/sharer/sharer.php?u=".concat(this.linkShare.shortLink),"_blank")}},handleClose:function(){this.$emit("input",!1)}}},l=c,m=(i("6ed9"),i("b021"),i("2877")),h=Object(m["a"])(l,s,a,!1,null,"010cf5c3",null);e["a"]=h.exports},"50d8":function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loadingGet,expression:"loadingGet"}],staticClass:"pay-success-container container",staticStyle:{"margin-top":"40px","min-height":"50vh"},attrs:{"element-loading-spinner":"el-icon-kbus-loading"}},[s("h4",{staticClass:"title"},[t._v(t._s(t.$t("paySuccess.title")))]),!t.loadingGet&&t.tickets.length>0?s("div",{staticClass:"pay-success-wrapper"},[s("div",{attrs:{id:"invite"}},[s("el-avatar",{attrs:{icon:"el-icon-user-solid"}}),s("span",[s("span",{staticClass:"text-highlight"},[t._v(t._s(t.tickets.length>0?t.tickets[0].fullName:""))]),t._v(" "+t._s(t.$t("paySuccess.findFriend"))+" ")])],1),s("div",{attrs:{id:"trip-info"}},[s("div",{staticClass:"col text-center"},[s("label",{staticClass:"time"},[t._v(t._s(t.formatStartTime))]),s("label",{staticClass:"date"},[t._v(t._s(t.formatStartDate))]),s("label",{staticClass:"point-name"},[t._v(t._s(t.tickets[0].pointUp.name))]),s("label",{staticClass:"point-address"},[t._v(t._s(t.tickets[0].pointUp.address))])]),t.formatDistanceTime?s("div",{staticClass:"col-auto text-center distance-time"},[s("div",{staticClass:"text"},[s("svg",{attrs:{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M3.15691 0.70942C3.31741 0.934126 3.26536 1.2464 3.04066 1.40691L1.29066 2.65691C1.06595 2.81741 0.753677 2.76536 0.593172 2.54066C0.432668 2.31595 0.484713 2.00368 0.70942 1.84317L2.45942 0.593172C2.68413 0.432668 2.9964 0.484713 3.15691 0.70942ZM8.84317 0.70942C9.00368 0.484713 9.31595 0.432668 9.54066 0.593172L11.2907 1.84317C11.5154 2.00368 11.5674 2.31595 11.4069 2.54066C11.2464 2.76536 10.9341 2.81741 10.7094 2.65691L8.95942 1.40691C8.73471 1.2464 8.68267 0.934126 8.84317 0.70942ZM0.916696 6.50005C0.916696 3.69258 3.19257 1.41671 6.00004 1.41671C8.80748 1.41671 11.0834 3.69258 11.0834 6.50005C11.0834 9.30749 8.80748 11.5834 6.00004 11.5834C3.19257 11.5834 0.916696 9.30749 0.916696 6.50005ZM6.00004 2.41671C3.74486 2.41671 1.9167 4.24487 1.9167 6.50005C1.9167 8.75521 3.74486 10.5834 6.00004 10.5834C8.2552 10.5834 10.0834 8.75521 10.0834 6.50005C10.0834 4.24487 8.2552 2.41671 6.00004 2.41671ZM5.93994 3.33843C6.21609 3.33846 6.43992 3.56234 6.43989 3.83848L6.43961 6.38354L8.23622 8.18015C8.43148 8.37541 8.43148 8.69199 8.23622 8.88725C8.04096 9.08252 7.72437 9.08252 7.52911 8.88725L5.58604 6.94418C5.49225 6.8504 5.43957 6.7232 5.43959 6.59057L5.43989 3.83837C5.43992 3.56223 5.6638 3.3384 5.93994 3.33843Z",fill:"white"}})]),s("span",{staticClass:"text"},[t._v(t._s(t.$moment.utc(t.formatDistanceTime).format("HH"))+" gi·ªù "+t._s(t.$moment.utc(t.formatDistanceTime).format("mm"))+"p")])]),s("svg",{attrs:{width:"60",height:"20",viewBox:"0 0 60 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"}},[s("path",{attrs:{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M22.5002 3.33334C22.0581 3.33334 21.6342 3.50894 21.3217 3.8215C21.0091 4.13406 20.8335 4.55798 20.8335 5.00001V14.1667C20.8335 14.6269 21.2066 15 21.6668 15H22.6424C22.9856 15.971 23.9116 16.6667 25.0002 16.6667C26.0887 16.6667 27.0147 15.971 27.3579 15H32.6424C32.9856 15.971 33.9116 16.6667 35.0002 16.6667C36.0887 16.6667 37.0147 15.971 37.3579 15H38.3335C38.7937 15 39.1668 14.6269 39.1668 14.1667V10C39.1668 8.30635 38.6883 6.64673 37.7912 5.39086C36.8916 4.13145 35.6007 3.33334 34.1668 3.33334H22.5002ZM29.1668 5.00001H26.6668V7.50001H29.1668V5.00001ZM30.8335 7.50001V5.00001H32.6597L33.1955 7.50001H30.8335ZM22.5002 9.16668V13.3333H22.6424C22.9856 12.3623 23.9116 11.6667 25.0002 11.6667C26.0887 11.6667 27.0147 12.3623 27.3579 13.3333H32.6424C32.9856 12.3623 33.9116 11.6667 35.0002 11.6667C36.0887 11.6667 37.0147 12.3623 37.3579 13.3333H37.5002V10.8335H34.5835C34.1905 10.8335 33.851 10.559 33.7686 10.1748L33.5526 9.16668H22.5002ZM22.5002 5.00001H25.0002V7.50001H22.5002V5.00001ZM35.2571 9.16685H37.4526C37.3284 8.08758 36.9666 7.10379 36.435 6.35959C35.8283 5.51019 35.0831 5.07708 34.3663 5.00944L35.2571 9.16685Z",fill:"#2D225E"}}),s("rect",{attrs:{x:"12",y:"9",width:"4",height:"1",fill:"#2D225E"}}),s("rect",{attrs:{x:"6",y:"9",width:"4",height:"1",fill:"#2D225E"}}),s("rect",{attrs:{y:"9",width:"4",height:"1",fill:"#2D225E"}}),s("rect",{attrs:{x:"56",y:"9",width:"4",height:"1",fill:"#2D225E"}}),s("rect",{attrs:{x:"50",y:"9",width:"4",height:"1",fill:"#2D225E"}}),s("rect",{attrs:{x:"44",y:"9",width:"4",height:"1",fill:"#2D225E"}})])]):t._e(),s("div",{staticClass:"col text-center"},[s("label",{staticClass:"time"},[t._v(t._s(t.formatEndTime))]),s("label",{staticClass:"date"},[t._v(t._s(t.formatEndDate))]),s("label",{staticClass:"point-name"},[t._v(t._s(t.tickets[0].pointDown.name))]),s("label",{staticClass:"point-address"},[t._v(t._s(t.tickets[0].pointDown.address))])])]),s("div",{style:{background:t.countPassengersRemain<=0?"#50c69480":"#FBD1E1"},attrs:{id:"need-to-complete-trip"}},[t.countPassengersRemain>0?s("span",{staticClass:"description"},[t._v(t._s(t.$t("paySuccess.need"))),s("span",{staticClass:"text-highlight"},[t._v(" "+t._s(t.countPassengersRemain)+" ")]),t._v(t._s(t.$t("paySuccess.countCustomer")))]):s("span",{staticClass:"description"},[t._v(t._s(t.$t("paySuccess.fullSeat")))])]),s("div",{staticClass:"w-100 mt-4"},[s("span",{staticClass:"description text-highlight"},[t._v(t._s(t.$t("paySuccess.description")))])]),s("div",{attrs:{id:"share"}},[s("span",{staticClass:"description"},[t._v(t._s(t.$t("paySuccess.share"))+":")]),s("div",{staticClass:"list-icon"},[s("a",{attrs:{href:"",title:t.$t("paySuccess.share")},on:{click:function(e){return e.preventDefault(),t.shareTicket(e)}}},[s("img",{attrs:{src:i("dce0"),alt:"share trip"}})])]),s("form-share-link",{attrs:{trip:t.tickets[0].trip},model:{value:t.dialogShareTrip,callback:function(e){t.dialogShareTrip=e},expression:"dialogShareTrip"}})],1)]):t._e(),!t.loadingGet&&t.tickets.length<=0?s("div",{staticClass:"data-not-available mt-3"},[s("div",{staticClass:"content"},[s("img",{attrs:{src:"https://img.icons8.com/material-two-tone/96/000000/no-data-availible.png",alt:"image/png"}}),s("span",[t._v(t._s(t.$t("paySuccess.noData")))])])]):t._e()])},a=[],n=i("5530"),r=i("ed08"),o=i("2f62"),c=i("2e61"),l={components:{FormShareLink:c["a"]},data:function(){return{loadingGet:!1,tickets:[],dialogShareTrip:!1}},computed:Object(n["a"])(Object(n["a"])({},Object(o["c"])(["userInfo"])),{},{formatStartTime:function(){var t="";if(this.tickets.length>0){var e=this.$moment.utc(this.tickets[0].trip.runTime).format("HH:mm");t=e}return t},formatStartDate:function(){var t="";if(this.tickets.length>0){var e=this.$moment.utc(this.tickets[0].trip.runTime).format("DD/MM/YYYY");t=e}return t},formatDistanceTime:function(){var t="";if(this.tickets.length>0){var e=this.tickets[0].trip.route.timeArrive[this.tickets[0].trip.route.timeArrive.length-1]-this.tickets[0].trip.route.timeArrive[0];t=e}return t},formatEndTime:function(){var t="";if(this.tickets.length>0){var e=new Date(this.tickets[0].trip.runTime).getTime(),i=e+this.formatDistanceTime;t=this.$moment.utc(i).format("HH:mm")}return t},formatEndDate:function(){var t="";if(this.tickets.length>0){var e=new Date(this.tickets[0].trip.runTime).getTime(),i=e+this.formatDistanceTime;t=this.$moment.utc(i).format("DD/MM/YYYY")}return t},countPassengersRemain:function(){var t=0;if(this.tickets.length>0)if(this.tickets[0].trip.tripCode){var e=(this.tickets[0].trip.route.distance*this.tickets[0].trip.vehicle.pricePerKm+this.tickets[0].trip.planTrip.additionMoney)*(1+this.tickets[0].trip.route.profit),i=e/(0!==this.tickets[0].basePrice?this.tickets[0].basePrice:1);t=i-this.tickets[0].trip.numberTicketPaid}else{var s=60*this.tickets[0].trip.vehicle.totalSeat/100;t=s-this.tickets[0].trip.numberTicketPaid}return Math.round(t)},detectPlatform:function(){var t=Object(r["e"])();return t}}),mounted:function(){"IOS"===this.detectPlatform||this.detectPlatform,this.getByTicketCode()},methods:{getByTicketCode:function(){var t=this;this.loadingGet=!0,this.$store.dispatch("ticket/getTicketsByTicketCode",{ticketCode:this.$route.query.ticketCode}).then((function(e){t.loadingGet=!1,t.tickets=e})).catch((function(e){t.loadingGet=!1,console.log(e),t.$message.error(t.$t("message.common.unfinedError"))}))},shareTicket:function(){this.dialogShareTrip=!0}}},m=l,h=(i("a55a"),i("2877")),d=Object(h["a"])(m,s,a,!1,null,"681fbeb6",null);e["default"]=d.exports},"5cb5":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAoVJREFUaIHtl0F22jAQhv+R6ZI8H0FxtzHlBk1PEGcfqDlB0xMAJ2h7Avyg+6YnaHOC+D3Ylrg38L6xJotCsSVjG0hho29nacb8w0gzY8BisVgsFovFYjkV1MRIysA9E+2QgbcE6jIg63zmy2nh3b7X51oxjJiJExC+z3/NoibaagPw5U0AISYA3CYvXLNPABoJiMd1gYiqzY73/hOE+IYdxb8QEkyTjtcfVhm1tm10vP6QwbclWymAlJmTXdQw889qC3KJ0DX8gJHv9dz5cvax1Kts0Ze9EIIm2nLCSg1aaMVxEqUNde/M6reH0O+ZUtfz5Oudbl8egNd/LL6A7hxFg/8pPE9Xhm4msglAQW45dZQ41zUYd8CXvRDF6JNjigeAOIlSRzkDAPlj6v4RWajbmpfYwVXhmXh8TPFr4iRKWalBfk0wXep2xiVmJpk/V3VlbI/yWEAvt3laaMUZVIp1FSS80W2MDBA2lYAZ8SHiDmWV+Xz2jQZa2QeITlL/C3AxAIOyAAoXpyvDkwZRdyLMRkYcg2mdKvcJT10AW5tQ1Rk+lFVF3EgDfus2RgYU477gJMTkFFmQMnBXDW2DYKORGQG8Uk4E7eJkIjtqEFIGblu0J9D6UVlFNAKIkyiFVn8BCjKhHvzXPaORvCRSBu6FvLlsi7MHrQsDxOMyn63n98LrfybgQ6kTI2ZwZXWYP87e5Z/9896PKnsikvy33huZZmC8WE5HZX5bp9HFcnp74fVTAoxxlgndht9CeYVGF9VEblv/sk08UNMHFsvpCIr1meRYpFDqerGclo30/2j8N/qyF7LAFZhk2dyus+cXWcLgWAD3QjnRKWYwi8VisVgsFoulOc826u1knO/3ywAAAABJRU5ErkJggg=="},"6ed9":function(t,e,i){"use strict";i("b5c3")},a55a:function(t,e,i){"use strict";i("24ae")},ab24:function(t,e,i){},af48:function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAA1FJREFUaIHtmb9WGkEUxr87i0kaDUljO5LGQglvILwBdhYGyROITyA+gfAEWSFFOtOmEt+ACDknTcimtXHTRpmbApIos7PM/gHNkd85NLMzO/fOXO6d+RZYsOBxQ2m9aEPuFoWgAgNbBCowkMXoBwA+MTwm9hj0GUp1+t77ThrzJnJAynJ2RazsM1DDP2Nt8QDuXKvro6/eBy+uDbEcGBn+/JDBtbgT34XduI44UQfkc5X9J/T0I4Bi1LFmqOCQU159mf95eXXRjTIykgP53N4xA3UAzyLZZ0cWoPLqi3z28urik+0gqxCSspxdpuVTEKW46iEwdxx2true60/rKmzeN1fjAYCoOKThqU3XqSGUz+0dg7CT3KqIEEmbcAoNoU35pgpB7xKY4TPQvFG/XFOG2cxVONxAPrgYtBvm5wbW5Y5cEk/OAEhrc2/DOHFY1KbF8TQHAPiOEmum92RMo5bE0iFiGs9As/+9lVKNQHYohocADoIeBv6J1+WOBKgac0Ivo0Q95lgDVCvIamClD3RgvPox5+Ijm/QXlRuhAnfUkEbjp8zh0IlUSW0hYN/QfpcNuVskIc7iTtQbtAITQ/5VZY8ZDUQ/9P2FlSpNnmL1HRBiJgWLGXUkMB4AWFBhsk1zgIhfJ5kkhHjp+BaC9dDWHGCmxBPNDIK2uPoOpLBSM0QLwaAslChOZ4xmm7ES22LKOrb9LI4SoQTtQOpFKEU02/4rB5ihnWh1B4hnUknTgIAfk22aA4pxPh9zosMEbXH1NKoe7g5AKU0MM2WGK8RMp7PKNgC83qC1NtkYeBploJlwshlAgVJkoAMZJYx30PvCUXQU1B7oQNdz/Ye1C+R2PTdQFDDqQuNr4UOoCZ5p9YEQB7qe6xPYOHBujK6oRtE3VJm7GLQb9xlKDDR739puWJ+p0mJ/0KqBOZWPEVFgRrc/mC7NWGmjDjvb83SCmTsZFiWbvlbH6bFMUtrIVRomdSAtRqJY21oUs9qBP/QHrRoUvwX0U2EK+Ap8YBM2t4nkAAD0vLbrKFEC4yTqWBMMNB0l1r6EiLgmEn3kK8iqHJKqg7CF8V06wlnIZ6CZUaKRRMlLdKUc5+cqMBLEpmhKHoO7AjhXirtpfWZdsOCx8xtvtDS7COwvQAAAAABJRU5ErkJggg=="},b021:function(t,e,i){"use strict";i("ab24")},b5c3:function(t,e,i){},dce0:function(t,e,i){t.exports=i.p+"static/img/icon-share-2.9a07cb44.svg"}}]);